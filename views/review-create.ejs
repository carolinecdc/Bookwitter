<%- include("partials/header.ejs") %>
<body>
  <div class="px-4 py-5 my-5 text-center">
    <img class="d-block mx-auto mb-4" src="/assets/images/engage.png" alt="" width="250" height="auto">
    <h1 class="display-5 fw-bold text-body-emphasis">Share Your Book Review!</h1>
    <div class="col-lg-6 mx-auto">
      <p class="lead mb-4">Finished a book that left an impact? We'd love to hear your thoughts! Whether it made you laugh, cry, or think deeply, your review can help others discover their next great read. No need to be a professional criticâ€”just be yourself and share what you loved (or didn't) about the book. Your insights could inspire others. Write your review today!</p>      
    </div>
  </div> 

    <main class="mb-4">
        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-7">
                    <p>Create your review! ðŸ‘‡</p>
                    <div class="my-5">                    
                        <form id="postform" action="/submit" method="POST">                            
                            <div class="form-floating">
                                <input class="form-control" id="title" type="text" placeholder="Book title..." data-sb-validations="required" name="bookTitle" required/>
                                <label for="title">Book title</label>
                                <div class="invalid-feedback" data-sb-feedback="name:required">A Title is required.</div>
                            </div>                           
                            
                            
                                <div class="form-group">
                                  <label for="example-rating">Your rating</label>
                                  <div id="rating" class="rating">
                                    <span class="star" data-value="1" title="Poor">&#9733;</span>
                                    <span class="star" data-value="2" title="Fair">&#9733;</span>
                                    <span class="star" data-value="3" title="Good">&#9733;</span>
                                    <span class="star" data-value="4" title="Very Good">&#9733;</span>
                                    <span class="star" data-value="5" title="Excellent">&#9733;</span>                                   
                                  </div>                                  
                                </div>
                                
                             
                                                  
                            <div class="form-floating">
                                <textarea class="form-control" id="message" placeholder="Enter your message here..." style="height: 12rem" data-sb-validations="required" name="bookText" maxlength="499" required></textarea>
                                <label for="message">Book Review</label>
                                <div class="invalid-feedback" data-sb-feedback="message:required">A text is required.</div>
                            </div>
                            <br />                      
                            <!-- Submit Button-->
                            <button class="btn btn-dark text-uppercase" id="submitButton" type="submit">Create</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <%- include("partials/footer.ejs") %>
<script>
        document.addEventListener('DOMContentLoaded', (event) => {
          const stars = document.querySelectorAll('.star');
          const ratingValue = document.getElementById('rating-value');
          const clearButton = document.getElementById('clear-rating');
    
          stars.forEach(star => {
            star.addEventListener('click', () => {
              const value = star.getAttribute('data-value');
              ratingValue.value = value;
              updateStars(value);
            });
    
            star.addEventListener('mouseenter', () => {
              const value = star.getAttribute('data-value');
              updateStars(value);
            });
    
            star.addEventListener('mouseleave', () => {
              updateStars(ratingValue.value);
            });
          });
    
          
    
          function updateStars(value) {
            stars.forEach(star => {
              if (star.getAttribute('data-value') <= value) {
                star.classList.add('checked');
              } else {
                star.classList.remove('checked');
              }
            });
          }
        });
</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script> 

</body>
</html> 